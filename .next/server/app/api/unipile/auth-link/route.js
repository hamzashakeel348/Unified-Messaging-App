"use strict";(()=>{var e={};e.id=644,e.ids=[644],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},9491:e=>{e.exports=require("assert")},4300:e=>{e.exports=require("buffer")},358:e=>{e.exports=require("fs")},6005:e=>{e.exports=require("node:crypto")},2781:e=>{e.exports=require("stream")},3837:e=>{e.exports=require("util")},9796:e=>{e.exports=require("zlib")},4861:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>I,patchFetch:()=>v,requestAsyncStorage:()=>h,routeModule:()=>d,serverHooks:()=>m,staticGenerationAsyncStorage:()=>x});var i={};t.r(i),t.d(i,{GET:()=>c,dynamic:()=>l,runtime:()=>u});var o=t(9303),s=t(8716),n=t(670),a=t(7070),p=t(3544);let u="nodejs",l="force-dynamic";async function c(e){let{searchParams:r}=new URL(e.url),t=(r.get("provider")||"LINKEDIN").toUpperCase(),i=process.env.UNIPILE_NOTIFY_URL;try{let e=await p.L.account.createHostedAuthLink({type:"create",api_url:(process.env.UNIPILE_API_URL||"").replace(/\/$/,""),providers:[t],success_redirect_url:"http://localhost:3000/inbox",failure_redirect_url:"http://localhost:3000/",notify_url:i,expiresOn:new Date(Date.now()+9e5).toISOString()}),r=e?.url;return a.NextResponse.json({url:r})}catch(e){return console.error("auth-link error",e?.response?.data||e),a.NextResponse.json({error:e?.message||"failed"},{status:500})}}let d=new o.AppRouteRouteModule({definition:{kind:s.x.APP_ROUTE,page:"/api/unipile/auth-link/route",pathname:"/api/unipile/auth-link",filename:"route",bundlePath:"app/api/unipile/auth-link/route"},resolvedPagePath:"/Users/hamzashakeel/Desktop/unipile-inbox-mvp-webhooks/src/app/api/unipile/auth-link/route.ts",nextConfigOutput:"",userland:i}),{requestAsyncStorage:h,staticGenerationAsyncStorage:x,serverHooks:m}=d,I="/api/unipile/auth-link/route";function v(){return(0,n.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:x})}},3544:(e,r,t)=>{t.d(r,{L:()=>n});var i=t(1005);let o=process.env.UNIPILE_API_KEY,s=(process.env.UNIPILE_API_URL||"https://api1.unipile.com:13111").replace(/\/$/,"");if(!o)throw Error("Missing UNIPILE_API_KEY");let n=new i.UnipileClient(s,o)}};var r=require("../../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),i=r.X(0,[948,972,983],()=>t(4861));module.exports=i})();