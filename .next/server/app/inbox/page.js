(()=>{var e={};e.id=840,e.ids=[840],e.modules={7849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},5403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},4749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},5226:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>a.a,__next_app__:()=>x,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>c}),t(5328),t(2029),t(5866);var n=t(3191),r=t(8716),i=t(7922),a=t.n(i),o=t(5231),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);t.d(s,l);let c=["",{children:["inbox",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,5328)),"/Users/hamzashakeel/Desktop/unipile-inbox-mvp-webhooks/src/app/inbox/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,2029)),"/Users/hamzashakeel/Desktop/unipile-inbox-mvp-webhooks/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,5866,23)),"next/dist/client/components/not-found-error"]}],d=["/Users/hamzashakeel/Desktop/unipile-inbox-mvp-webhooks/src/app/inbox/page.tsx"],p="/inbox/page",x={require:t,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/inbox/page",pathname:"/inbox",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},7984:(e,s,t)=>{Promise.resolve().then(t.t.bind(t,2994,23)),Promise.resolve().then(t.t.bind(t,6114,23)),Promise.resolve().then(t.t.bind(t,9727,23)),Promise.resolve().then(t.t.bind(t,9671,23)),Promise.resolve().then(t.t.bind(t,1868,23)),Promise.resolve().then(t.t.bind(t,4759,23))},2789:()=>{},4868:(e,s,t)=>{Promise.resolve().then(t.bind(t,8863))},8863:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i});var n=t(326),r=t(7577);function i(){let[e,s]=(0,r.useState)([]),[t,i]=(0,r.useState)("all"),[a,o]=(0,r.useState)(null),[l,c]=(0,r.useState)(""),d=async()=>{if(!a)return;let e={platform:a.platform,text:l};"linkedin"===a.platform?e.chat_id=a.chat_id:(e.account_id=a.account_id,e.reply_to=a.provider_message_id,e.subject=a.subject?`Re: ${a.subject}`:"(no subject)");let s=await fetch("/api/send",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)}),t=await s.json();alert(t.ok?"Sent!":t.error||"Failed"),t.ok&&c("")};return(0,n.jsxs)("div",{className:"row",children:[(0,n.jsxs)("aside",{className:"card sidebar",children:[n.jsx("h3",{children:"Filters"}),(0,n.jsxs)("div",{className:"col",children:[n.jsx("button",{className:"btn ghost",onClick:()=>i("all"),children:"All"}),n.jsx("button",{className:"btn ghost",onClick:()=>i("google"),children:"Gmail"}),n.jsx("button",{className:"btn ghost",onClick:()=>i("linkedin"),children:"LinkedIn"})]}),n.jsx("p",{style:{color:"#94a3b8",marginTop:16},children:"Click a message to preview and reply."})]}),(0,n.jsxs)("main",{className:"card",style:{flex:1},children:[n.jsx("h3",{children:"Messages"}),(0,n.jsxs)("div",{className:"list",children:[e.map(e=>(0,n.jsxs)("div",{className:"item",onClick:()=>o(e),style:{cursor:"pointer"},children:[(0,n.jsxs)("div",{style:{display:"flex",justifyContent:"space-between"},children:[n.jsx("strong",{children:e.subject||e.text?.slice(0,60)||"(no subject)"}),n.jsx("small",{children:e.platform})]}),(0,n.jsxs)("small",{children:["From: ",e.from," â†’ ",e.to]})]},e._id)),0===e.length&&n.jsx("p",{children:"No messages yet. Connect accounts and send yourself a test."})]})]}),(0,n.jsxs)("section",{className:"card sidebar",children:[n.jsx("h3",{children:"Preview"}),a?(0,n.jsxs)("div",{className:"col",children:[n.jsx("div",{children:n.jsx("small",{children:new Date(a.created_at).toLocaleString()})}),a.subject&&n.jsx("div",{children:n.jsx("strong",{children:a.subject})}),n.jsx("div",{className:"message",children:a.text}),n.jsx("textarea",{value:l,onChange:e=>c(e.target.value),rows:6,placeholder:"Type a reply..."}),n.jsx("button",{className:"btn",onClick:d,children:"Send"})]}):n.jsx("p",{children:"Select a message"})]})]})}},5328:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>a,__esModule:()=>i,default:()=>o});var n=t(8570);let r=(0,n.createProxy)(String.raw`/Users/hamzashakeel/Desktop/unipile-inbox-mvp-webhooks/src/app/inbox/page.tsx`),{__esModule:i,$$typeof:a}=r;r.default;let o=(0,n.createProxy)(String.raw`/Users/hamzashakeel/Desktop/unipile-inbox-mvp-webhooks/src/app/inbox/page.tsx#default`)},2029:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>i,metadata:()=>r});var n=t(9510);t(5023),t(1159);let r={title:"Unipile Inbox MVP",description:"Unified inbox MVP using Unipile Webhooks"};function i({children:e}){return n.jsx("html",{lang:"en",children:n.jsx("body",{children:(0,n.jsxs)("div",{className:"container",children:[(0,n.jsxs)("div",{className:"header",children:[n.jsx("h1",{children:"Unipile Inbox MVP"}),n.jsx("a",{className:"btn ghost",href:"/inbox",children:"Inbox"})]}),e]})})})}},5023:()=>{}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),n=s.X(0,[948,471],()=>t(5226));module.exports=n})();